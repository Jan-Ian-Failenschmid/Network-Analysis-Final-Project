library(bootnet)
library('tidyverse')
library('haven')
library('psych')
library('knitr')
library('qgraph')
library('bootnet')
library("NetworkComparisonTest")
sapply(c('clean_data.r'), source)
df_clean <- clean_data("data/GSS_panel06w123_R6a - SPSS.sav")
setwd("C:/Users/Jan Failenschmid/OneDrive/Dokumente/University/Master/Network Analysis/Final Assignment/Network-Analysis-Final-Project/Github")
library(bootnet)
library('tidyverse')
library('haven')
library('psych')
library('knitr')
library('qgraph')
library('bootnet')
library("NetworkComparisonTest")
sapply(c('clean_data.r'), source)
df_clean <- clean_data("data/GSS_panel06w123_R6a - SPSS.sav")
df <- df_clean
#Set Number of Bootstrap Samples to be drawn Start Low and Gradually increase
nrboot <- 300
#Set Number of Cores to be used for the Bootstrappings
nrcor <- 1
#Select Variables to be Included
var_names <- names(df[8:30])
df2006 <- df[df$yearID == 2006, c(var_names)]
network2006 <- estimateNetwork(df2006, default = "EBICglasso")
network2008 <- estimateNetwork(df2008, default = "EBICglasso")
network2010 <- estimateNetwork(df2010, default = "EBICglasso")
#Set max for all networks for Comparability
maxi <- max(c(max(network2006$graph[lower.tri(network2006$graph, diag = F)]),
max(network2008$graph[lower.tri(network2008$graph, diag = F)]),
max(network2010$graph[lower.tri(network2010$graph, diag = F)])))
df2008 <- df[df$yearID == 2008, c(var_names)]
df2010 <- df[df$yearID == 2010, c(var_names)]
#Estimate Network by Year
network2006 <- estimateNetwork(df2006, default = "EBICglasso")
network2008 <- estimateNetwork(df2008, default = "EBICglasso")
network2010 <- estimateNetwork(df2010, default = "EBICglasso")
#Set max for all networks for Comparability
maxi <- max(c(max(network2006$graph[lower.tri(network2006$graph, diag = F)]),
max(network2008$graph[lower.tri(network2008$graph, diag = F)]),
max(network2010$graph[lower.tri(network2010$graph, diag = F)])))
#Draw Casedrop Bootstraps
boot_casedrop_2006 <- bootnet(network2006,
nBoots = nrboot,
nCores = nrcor,
type = "case",
statistics = c("strength", "betweenness", "closeness")
)
#CS-Coeafficients
corStability(boot_casedrop_2006)
#CS-Coeafficients
corStability(boot_casedrop_2006)$betweenness
#CS-Coeafficients
corStability(boot_casedrop_2006)[["betweenness"]]
#CS-Coeafficients
cs_2006 <- corStability(boot_casedrop_2006)
cs_2006
cs_2006$betweenness
cs_2006[1]
#CS-Coeafficients
corStability(boot_casedrop_2006)[1]
knitr::opts_chunk$set(echo = TRUE)
library('tidyverse')
library('haven')
library('psych')
library('knitr')
library('qgraph')
library("NetworkComparisonTest")
library('bootnet')
sapply(c('clean_data.r'), source)
df_clean <- clean_data("data/GSS_panel06w123_R6a - SPSS.sav")
knitr::opts_chunk$set(echo = TRUE)
set.seed(42)
knitr::opts_chunk$set(echo = TRUE)
library('tidyverse')
library('haven')
library('psych')
library('knitr')
library('qgraph')
library("NetworkComparisonTest")
library('bootnet')
sapply(c('clean_data.r'), source)
knitr::opts_chunk$set(echo = TRUE)
set.seed(42)
df_clean <- clean_data("data/GSS_panel06w123_R6a - SPSS.sav")
df <- df_clean
#Set Number of Bootstrap Samples to be drawn Start Low and Gradually increase
nrboot <- 1000
#Set Number of Cores to be used for the Bootstrappings
nrcor <- 1
#Select Variables to be Included
var_names <- names(df[8:30])
#Split up Data by year
df2006 <- df[df$yearID == 2006, c(var_names)]
df2008 <- df[df$yearID == 2008, c(var_names)]
df2010 <- df[df$yearID == 2010, c(var_names)]
#Estimate Network by Year
network2006 <- estimateNetwork(df2006, default = "EBICglasso")
network2008 <- estimateNetwork(df2008, default = "EBICglasso")
network2010 <- estimateNetwork(df2010, default = "EBICglasso")
#Set max for all networks for Comparability
maxi <- max(abs(c(network2006$graph[lower.tri(network2006$graph, diag = F)],
network2008$graph[lower.tri(network2008$graph, diag = F)],
network2010$graph[lower.tri(network2010$graph, diag = F)])))
avrgLayout <- averageLayout(network2006, network2008, network2010)
#Non Parametric Bootstrap
boot_nonparametric_2006 <- bootnet(network2006, nBoots = nrboot, nCores = nrcor)
boot_nonparametric_2008 <- bootnet(network2008, nBoots = nrboot, nCores = nrcor)
